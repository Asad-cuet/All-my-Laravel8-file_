1.create new project

2.connect database

3.create ui system  //don't migrate now

4.modify user migration:

      add:$table->tinyInteger('role_as')->default('0');

      add the column manually in database

5.migrate now


6.admin middleware:

      php artisan make:middleware AdminMiddleware


7.replace in middleware:

      use Illuminate\Support\Facades\Auth;
      public function handle($request, Closure $next)
    {
        if(Auth::check())
        {
            if(Auth::user()->role_as == '1')
            {
                return $next($request);
            }
            else
            {
                return redirect('/home')->with('status','Access Denied! as you are not as admin');
            }
        }
        else
        {
            return redirect('/home')->with('status','Please Login First');
        }
    }


   


8.Kernel.php:


    protected $routeMiddleware = [

        'isAdmin' => \App\Http\Middleware\AdminMiddleware::class, //Add to the end
    ];


9.Controllers/Auth/LginController.php:

       comment $redirectTo

       paste:   
     use Illuminate\Support\Facades\Auth; 
    protected function authenticated()
    {
        if(Auth::user()->role_as == '1') //1 = Admin Login
        {
            return redirect('dashboard')->with('status','Welcome to your dashboard');
        }
        elseif(Auth::user()->role_as == '0') // Normal or Default User Login
        {
            return redirect('/')->with('status','Logged in successfully');
        }
    }


     import Auth class [click>right-button,import class]


10.web.php:

      Route::middleware(['auth','isAdmin'])->group(function () {

            Route::get('/dashboard', function () {
                 return view('admin.dashboard');   //temporally use:return "Admin Login";
                                  });

          });

11.edit role_as value in user table.create a new user as normal user

Note:Now admin login redirect to different route from user


12.Integrate Admin Dashboard:

     template link:https://github.com/creativetimofficial/material-dashboard-bs4
     web link:https://demos.creative-tim.com/

     new file:views/layouts/admin.blade.php

     new folder:public/admin/css/:paste template 'material..css'

     new folder:public/admin/js/:paste template core js all' and plugin/perfect-scrollbar.jqu..js


     new:layout/inc/
            sidebar.blade.php:paste sidebar   modify tilte, replace href="#"
            adminnav.blade.php:paste navbar
            adminfooter.blade.php:paste footer


     admin.blade.php:                      // asset('') redirect:public/
             copy paste from app.blade.php 
             clear body
             replace font link from template dashboard
             replace css links
             take <div class="wrapper">all content here</div>
             @include('layouts.inc.sidebar')
             <div class="main-panel">
             @include('layouts.inc.adminnav')
             <div class="content">@yield('content')</div>                  <!-- includinh blade component -->
             @include('layouts.inc.adminfooter')
             </div>

             paste core js files (all).modify src value
             @yield('scripts')


     new:views/admin/dashboard.blade.php:
             @extends('layouts.admin')                                     <!-- showing main component  -->
             
             @section('content')
                 .card>.card-body><h1>Welcome to dashboard</h1>
             @endsection

    replace logout button from app.blade.php with <form>

Note:get login as admin



13.Add Category table+Page:

     php artisan make:model Category -m

     paste on migration:
       $table->string('name');
       $table->string('slug');
       $table->longText('description');
       $table->tinyInteger('status')->default('0');
       $table->tinyInteger('popular')->default('0');
       $table->string('image');
       $table->string('meta_title');
       $table->string('meta_descript');
       $table->string('meta_keywords');


     model:
         protected $table='categories';
         protected $fillable=['name','slug','description','status','popular','image','meta_title','meta_descrip','meta_keywords'];


     php artisan migrate

     new:views/admin/category/index.blade.php:
             @section('content')
                 .card>.card-body><h1>Cateogry</h1>
             @endsection


     php artisan make:controller Admin/CategoryController:
                 index() {
                    return view('admin.category.index');
                          }

     php artisan make:controller Admin/DashboardController:
                 index() {
                    return view('admin.dashboard');
                          }


     edit:

        Route::get('/dashboard','Admin\DashboardController@index');

     add:
        Route::get('/categories','Admin\CategoryController@index');

 
     register controller for not include class:
          providers/RouteServiceProvider.php: uncomment $namespace


     edit sidebar>category url:
                  href="{{ url('/categories') }}"
 


14.Integrate Category with your ajax

 


